eval(atob('bGV0IHNjb3JlID0gMApsZXQgZGFQYXBpZXpJbnRlcnZhbApsZXQgZGFSUkludGVydmFsCmxldCByb3RhdGlvbiA9IDAKbGV0IGZsaXAgPSBmYWxzZQpsZXQgcGxheWluZzIxMzcgPSBmYWxzZQoKbGV0IHBhcGlleiA9IGAKPGJyPgo8YnI+Cjxicj4KPGltZyBpZD0ianAyIiBzcmM9Ii9zdGF0aWMvanAyLmpwZyIgd2lkdGg9IjQ1NiIgaGVpZ2h0PSI1NDgiPgo8YXVkaW8gaWQ9ImJhcmthIj4KICA8c291cmNlIHNyYz0iL3N0YXRpYy9qcDIubXAzIiB0eXBlPSJhdWRpby9tcGVnIj4KICBUd29qYSBwcnplZ2zEhWRhcmthIG5pZSB3c3BpZXJhIGF1ZGlvIDooCjwvYXVkaW8+CmAKCmxldCByciA9IGAKPGJyPgo8YnI+Cjxicj4KPGltZyBpZD0icnJqcGciIHNyYz0iL3N0YXRpYy9yYS5qcGciIHdpZHRoPSI2NjAiIGhlaWdodD0iMzcxIj4KPGF1ZGlvIGlkPSJyciI+CiAgPHNvdXJjZSBzcmM9Ii9zdGF0aWMvcnIubXAzIiB0eXBlPSJhdWRpby9tcGVnIj4KICBUd29qYSBwcnplZ2zEhWRhcmthIG5pZSB3c3BpZXJhIGF1ZGlvIDooCjwvYXVkaW8+CmAKCmxldCBoYW5kbGVQYXBpZXpBdWRpbyA9ICgpID0+IHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmlubmVySFRNTCA9IHBhcGllegogIGxldCBhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJrYScpCiAgICAKICBpZiAoIWF1ZGlvLnBhdXNlZCkgewogICAgaWYgKGF1ZGlvLmN1cnJlbnRUaW1lID4gMzcpIHsKICAgICAgYXVkaW8uY3VycmVudFRpbWUgPSAwCiAgICB9CiAgfSBlbHNlIHsKICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gMAogICAgYXVkaW8ucGxheSgpCiAgICBoYW5kbGVQYXBpZXpJbWFnZSgpCiAgfQp9CgpsZXQgaGFuZGxlUGFwaWV6SW1hZ2UgPSAoKSA9PiB7CiAgbGV0IGpwMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcDInKQogIGxldCBzaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpdGUnKQogIGpwMi5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBgYAogIHNpdGUuc3R5bGUuZGlzcGxheSA9IGBub25lYAoKICBjbGVhckludGVydmFsKGRhUGFwaWV6SW50ZXJ2YWwpCgogIGpwMi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJrYScpLnBhdXNlKCkKICB9LCBmYWxzZSkKCiAgZGFQYXBpZXpJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgIGlmIChyb3RhdGlvbiAlIDIgIT09IDApIHsKICAgICAgcm90YXRpb24tLQogICAgfQoKICAgIGlmIChyb3RhdGlvbiAlIDQ0ID09PSAwKSB7CiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4yMTM3KSB7CiAgICAgICAgZmxpcCA9ICFmbGlwCiAgICAgIH0KICAgIH0KICAgIAogICAgaWYgKCFmbGlwKSB7CiAgICAgIHJvdGF0aW9uICs9IDIKICAgIH0gZWxzZSB7CiAgICAgIHJvdGF0aW9uIC09IDIKICAgIH0KCiAgICByb3RhdGlvbiAlPSAzNjAKICAgIHRyYW5zZm9ybUltYWdlKCdqcDInLCBgc2NhbGVYKCR7ZmxpcCA/IC0xIDogMX0pIHJvdGF0ZSgke3JvdGF0aW9ufWRlZylgKQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXJrYScpLnBhdXNlZCkgewogICAgICBjbGVhckludGVydmFsKGRhUGFwaWV6SW50ZXJ2YWwpCiAgICAgIGpwMi5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBgbm9uZWAKICAgICAgc2l0ZS5zdHlsZS5kaXNwbGF5ID0gYGAKICAgICAgcGxheWluZzIxMzcgPSBmYWxzZQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpLmlubmVySFRNTCA9ICcnCiAgICB9CiAgfSwgMjApCn0KCmxldCBoYW5kbGVSUkF1ZGlvID0gKCkgPT4gewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykuaW5uZXJIVE1MID0gcnIKICBsZXQgYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnInKQogICAgCiAgaWYgKCFhdWRpby5wYXVzZWQpIHsKICAgIGlmIChhdWRpby5jdXJyZW50VGltZSA+IDM3KSB7CiAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gMAogICAgfQogIH0gZWxzZSB7CiAgICBhdWRpby5jdXJyZW50VGltZSA9IDAKICAgIGF1ZGlvLnBsYXkoKQogICAgaGFuZGxlUlJJbWFnZSgpCiAgfQp9CgpsZXQgaGFuZGxlUlJJbWFnZSA9ICgpID0+IHsKICBsZXQgcnJqcGcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnJqcGcnKQogIGxldCBzaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpdGUnKQogIHJyanBnLnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGBgCiAgc2l0ZS5zdHlsZS5kaXNwbGF5ID0gYG5vbmVgCgogIGNsZWFySW50ZXJ2YWwoZGFSUkludGVydmFsKQoKICBycmpwZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdycicpLnBhdXNlKCkKICB9LCBmYWxzZSkKCiAgZGFSUkludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjIxMzcpIHsKICAgICAgZmxpcCA9ICFmbGlwCiAgICB9CgogICAgdHJhbnNmb3JtSW1hZ2UoJ3JyanBnJywgYHNjYWxlWCgke2ZsaXAgPyAtMSA6IDF9KWApCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JyJykucGF1c2VkKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwoZGFSUkludGVydmFsKQogICAgICBycmpwZy5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBgbm9uZWAKICAgICAgc2l0ZS5zdHlsZS5kaXNwbGF5ID0gYGAKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKS5pbm5lckhUTUwgPSAnJwogICAgfQogIH0sIDEwMCkKfQoKbGV0IHRyYW5zZm9ybUltYWdlID0gKGlkLCB0cmFuc2Zvcm0pID0+IHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtCn0KCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogIHNjb3JlKysKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFTa29yJykuaW5uZXJIVE1MID0gc2NvcmUKICBpZiAoc2NvcmUgPT09IDY2NikgewogICAgaGFuZGxlUlJBdWRpbygpCiAgfQogIGlmIChzY29yZSA9PT0gMjEzNykgewogICAgaGFuZGxlUGFwaWV6QXVkaW8oKQogIH0KfSwgZmFsc2UpOwoKaWYgKCFwbGF5aW5nMjEzNykgewogIGxldCBkYXRlID0gbmV3IERhdGUoKQoKICBpZiAoZGF0ZS5nZXRIb3VycygpID09PSAyMSAmJiBkYXRlLmdldE1pbnV0ZXMoKSA9PT0gMzcpIHsKICAgIHBsYXlpbmcyMTM3ID0gdHJ1ZQogICAgaGFuZGxlUGFwaWV6QXVkaW8oKQogIH0KfQoKc2V0SW50ZXJ2YWwoKCkgPT4gewogIGlmICghcGxheWluZzIxMzcpIHsKICAgIGxldCBkYXRlID0gbmV3IERhdGUoKQogIAogICAgaWYgKGRhdGUuZ2V0SG91cnMoKSA9PT0gMjEgJiYgZGF0ZS5nZXRNaW51dGVzKCkgPT09IDM3KSB7CiAgICAgIHBsYXlpbmcyMTM3ID0gdHJ1ZQogICAgICBoYW5kbGVQYXBpZXpBdWRpbygpCiAgICB9CiAgfQp9LCAxMDAwMCk='))